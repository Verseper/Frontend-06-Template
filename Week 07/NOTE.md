#### 类型转换

JavaScript 能够根据具体运算环境自动转换参与运算的值得类型。

	##### 自动转换 Boolean

例如 if 语句 或者其他需要 Boolean 的地方

##### 运算符

在非 Numeber 类型进行数学运算符 - * / 时，会先将非 Number 转换成 Number 类型。 `+` 运算符要考虑字符串的情况，在操作数中存在字符串时，优先转换成字符串，

`+` 运算符其中一个操作数是字符串的话，会进行连接字符串的操作。

+` 操作符的执行顺序是：

- 当一侧操作数为 String 类型，会优先将另一侧转换为字符串类型。
- 当一侧操作数为 Number 类型，另一侧为原始类型，则将原始类型转换为 Number 类型。
- 当一侧操作数为 Number 类型，另一侧为引用类型，将引用类型和 Number 类型转换成字符串后拼接。

#### 宏任务与微任务

* 宏任务(macrotask):

  ​	宏任务一般是：包括整体代码`script`，`setTimeout`，`setInterval`、`I/O`、`UI render`。

* 微任务(microtask):

  ​	`Promise`、`Object.observe`、`MutationObserver`。

* 事件循环(eventloop):

  ​	事件循环的执行顺序说起来也比较简单。首先JavaScript代码从上到下执行没遇到定时器等宏任务会将任务放在宏任务队列中，遇到Promise.then等微任务会将任务放入到微任务队列中。等到主执行栈中的代码执行完毕，会清空微任务队列，先加入的先执行后加入的后执行，然后再去检查宏任务队列，将可执行的宏任务拿到执行栈中执行，每次只取出一个宏任务，执行完毕再次清空微任务队列，清空完毕再去检查宏任务队列，以此类推。